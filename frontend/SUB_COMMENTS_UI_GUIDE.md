# 子评论UI效果展示

## 界面效果说明

### 1. 初始状态 - 顶层评论
```
┌────────────────────────────────────────────────────────────┐
│  [头像]  张三  • 2小时前                        [编辑] [删除] │
│          这是一条顶层评论的内容...                           │
│          ❤️ 10    [回复]    [查看 5 条回复 ▼]              │
└────────────────────────────────────────────────────────────┘
```

### 2. 点击"回复"后 - 显示回复输入框
```
┌────────────────────────────────────────────────────────────┐
│  [头像]  张三  • 2小时前                        [编辑] [删除] │
│          这是一条顶层评论的内容...                           │
│          ❤️ 10    [回复]    [查看 5 条回复 ▼]              │
│                                                              │
│  [我的头像]  ┌─────────────────────────────────────────┐   │
│              │ 写下你的回复...                         │   │
│              │                                         │   │
│              │                                         │   │
│              └─────────────────────────────────────────┘   │
│              0 / 3000                    [取消] [发送]      │
└────────────────────────────────────────────────────────────┘
```

### 3. 点击"查看回复"后 - 展开回复列表
```
┌────────────────────────────────────────────────────────────┐
│  [头像]  张三  • 2小时前                        [编辑] [删除] │
│          这是一条顶层评论的内容...                           │
│          ❤️ 10    [回复]    [收起回复 ▲]                   │
│                                                              │
│  ╔════════════════════════════════════════════════════════╗ │
│  ║  [灰色背景区域 - 回复列表]                            ║ │
│  ║                                                        ║ │
│  ║  [头像]  李四  • 1小时前                      [编辑]   ║ │
│  ║          第一条回复                                    ║ │
│  ║          ❤️ 3    [回复]                                ║ │
│  ║  ─────────────────────────────────────────────────────  ║ │
│  ║      [头像]  王五  • 30分钟前                 [删除]   ║ │
│  ║              @李四 对第一条回复的回复                  ║ │
│  ║              ❤️ 1    [回复]                            ║ │
│  ║  ─────────────────────────────────────────────────────  ║ │
│  ║          [头像]  赵六  • 15分钟前            [编辑]    ║ │
│  ║                  @王五 对回复的再次回复                ║ │
│  ║                  ❤️ 0    [回复]                        ║ │
│  ║  ─────────────────────────────────────────────────────  ║ │
│  ║  [头像]  孙七  • 10分钟前                             ║ │
│  ║          又一条回复                                    ║ │
│  ║          ❤️ 2    [回复]                                ║ │
│  ╚════════════════════════════════════════════════════════╝ │
└────────────────────────────────────────────────────────────┘
```

## 视觉特征详解

### 缩进层次
- **0px**: 顶层评论（白色背景）
- **20px**: 一级回复（浅灰色背景内）
- **40px**: 二级回复（浅灰色背景内，更深的缩进）
- **60px**: 三级及以上回复（最大缩进）

### 背景颜色
- **顶层评论**: `bg-white`（白色）
- **回复区域**: `bg-gray-50`（浅灰色 #F9FAFB）

### 分隔线
- 回复之间使用细灰线分隔 (`border-gray-200`)
- 最后一条回复无底部边框

### 头像尺寸
- **顶层评论**: 40x40px (w-10 h-10)
- **回复**: 32x32px (w-8 h-8)

### 字体大小
- **作者名**: 中等字体 (font-medium)
- **时间**: 小字体 (text-xs 或 text-sm)
- **内容**: 标准字体 (text-sm)
- **按钮**: 小字体 (text-xs 或 text-sm)

### 颜色方案
- **主题色**: `primary-600` (蓝色，用于链接和主按钮)
- **点赞**: `red-500` (红色心形图标)
- **编辑**: `primary-50/700` (浅蓝背景/深蓝文字)
- **删除**: `red-50/700` (浅红背景/深红文字)
- **普通文本**: `gray-700` 至 `gray-900`
- **次要文本**: `gray-400` 至 `gray-500`

### 交互状态
- **hover**: 按钮颜色加深，背景色变化
- **点击**: 平滑的展开/收起动画
- **加载**: 旋转的加载指示器
- **空状态**: 友好的提示信息

## 响应式设计

### 桌面端 (≥1024px)
- 完整显示所有功能
- 宽松的间距
- 大尺寸的可点击区域

### 平板 (768px - 1023px)
- 适度压缩间距
- 保持核心功能可见

### 移动端 (<768px)
- 自适应宽度
- 触摸友好的按钮尺寸 (≥44px)
- 可能需要横向滚动查看深层嵌套

## 动画效果

### 展开/收起
- 平滑的高度过渡
- 箭头图标旋转180度

### 按钮交互
- 颜色渐变过渡 (transition-colors)
- hover时轻微放大 (可选)

### 加载状态
- 骨架屏动画 (animate-pulse)
- 旋转加载指示器 (animate-spin)

## 特殊状态

### 已编辑标记
```
张三  • 2小时前  (已编辑)
```

### @提及显示
```
@李四 这是回复内容...
       ↑
   蓝色突出显示
```

### 无回复状态
- 不显示"查看回复"按钮
- 只显示"回复"按钮

### 草稿文章
- 不显示"回复"按钮
- 显示提示："草稿文章不支持评论功能"

### 未登录状态
- 不显示"回复"按钮
- 点击点赞时跳转到登录页

## 键盘和可访问性

### 焦点管理
- 点击"回复"后自动聚焦输入框
- Tab键可以在按钮间切换

### ARIA标签
- 按钮有明确的title属性
- 图标有语义化的标签

## 性能考虑

### 懒加载
- 回复列表默认不加载
- 点击"查看回复"才发起请求

### 分页加载
- 每页20条回复
- "加载更多"按钮逐步加载

### 虚拟滚动
- 当前未实现，但可以作为未来优化方向
- 适用于有大量回复的情况

## 错误处理

### 网络错误
- 显示友好的错误提示
- 提供重试按钮

### 权限错误
- 403: "无法回复草稿文章的评论"
- 401: 跳转到登录页

### 验证错误
- 实时字符计数
- 超过3000字符时禁用发送按钮

## 总结

这个UI设计遵循以下原则：
✅ **清晰的层次**: 使用缩进和背景色区分层级
✅ **简洁的操作**: 关键操作一目了然
✅ **流畅的交互**: 平滑的动画和即时反馈
✅ **友好的提示**: 清晰的状态和错误信息
✅ **响应式布局**: 适配各种屏幕尺寸
✅ **可访问性**: 支持键盘操作和屏幕阅读器
