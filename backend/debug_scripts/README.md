# 调试脚本说明

此目录包含用于调试和排查问题的脚本和查询。

## check_draft_status.sql

用于检查数据库中文章的草稿状态，帮助诊断草稿箱功能问题。

### 使用方法

连接到MySQL数据库后，执行以下命令：

```bash
# 使用MySQL命令行客户端
mysql -u your_username -p your_database_name < check_draft_status.sql

# 或者在MySQL客户端中
source check_draft_status.sql
```

### 查询内容

1. **查询所有文章的草稿状态** - 显示每篇文章的ID、标题、草稿状态等信息
2. **按用户统计** - 统计每个用户的草稿数量和已发布文章数量
3. **检查数据类型** - 检查is_draft字段的数据类型（排查可能的类型问题）
4. **列出所有草稿** - 显示所有标记为草稿的文章
5. **列出所有已发布文章** - 显示所有已发布的文章

### 常见问题排查

- **草稿箱为空但数据库有草稿数据**：检查is_draft字段值是否正确
- **前后端数据不一致**：对比SQL查询结果和API返回的数据
- **数据类型问题**：检查is_draft是否被存储为字符串而非布尔值
